<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>键盘控制移动</title>
    <style>
        img {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 160px;
            height: 240px;
        }
    </style>
</head>

<body>
    <img src="./img/1.jpg" alt="">
    <script>
        /* 
            键盘控制移动
        */
        var oImg = document.querySelector('img');

        document.onkeydown = function (event) {
            // 获取当前位置
            var imgLocation = {
                x: oImg.offsetLeft,
                y: oImg.offsetTop
            }

            // 解决按键冲突
            /* event.leftKey = false;
            event.topKey = false;
            event.rightKey = false;
            event.bottomKey = false;

            console.log(event);
 */
            // 判断当前的按钮
            if (event.keyCode === 37) {
                imgLocation.x -= 10;
            } else if (event.keyCode === 38) {
                imgLocation.y -= 10;
            } else if (event.keyCode === 39) {
                imgLocation.x += 10;
            } else if (event.keyCode === 40) {
                imgLocation.y += 10;
            }

            // 判断临界值
            if (imgLocation.x <= 0) {
                imgLocation.x = 0
            } else if (imgLocation.x >= document.documentElement.clientWidth - oImg.offsetWidth) {
                imgLocation.x = document.documentElement.clientWidth - oImg.offsetWidth
            }

            if (imgLocation.y <= 0) {
                imgLocation.y = 0
            } else if (imgLocation.y >= document.documentElement.clientHeight - oImg.offsetHeight) {
                imgLocation.y = document.documentElement.clientHeight - oImg.offsetHeight;
            }

            // 赋值
            oImg.style.left = imgLocation.x + 'px';
            oImg.style.top = imgLocation.y + 'px';
        }
    </script>
</body>

</html>