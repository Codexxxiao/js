<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>数组去重的三种方式</title>
</head>

<body>
    <script>
        /* 
            方法一：使用循环+splice
            思路：依次比较数组中是否有相同的，有的话删除
         */
        var arr = [1, 2, 3, 2, 1, 3, 4, 2, 1, 4, 5];
        var i = 0,
            j = 0;
        while (i < arr.length - 1) {
            j = i + 1;
            while (j < arr.length) {
                if (arr[i] === arr[j]) {
                    arr.splice(j, 1);
                    continue
                }
                j++;
            }
            i++;
        }
        console.log(arr);

        /* 
            方法二：使用indexOf
            思路：判断当前元素是否存在于新数组，没有的话push
        */
        var arr1 = [1, 2, 3, 2, 1, 3, 4, 2, 1, 4, 5];
        var newArr1 = [];
        arr1.forEach(function (item, index, array) {
            if (newArr1.indexOf(item) === -1) {
                newArr1.push(item);
            }
        })

        console.log(newArr1);

        /* 
            方法二扩展：使用filter改进
        */
        /*  var arr4 = [1, 2, 3, 2, 1, 3, 4, 2, 1, 4, 5];
        var newArr4 = arr4.filter(function (item, index, array) {
            if(!())
            return newArr4.indexOf(item, 0) === -1;
        });
        console.log(newArr4);
 */
        /* 
            方法三：使用indexOf
            思路：判断检测的当前元素的下标是否等于元素下标，如果是的话表示这个元素第一次出现
        */
        var arr2 = [1, 2, 3, 2, 1, 3, 4, 2, 1, 4, 5];
        var newArr2 = [];
        arr2.forEach(function (item, index, array) {
            if (arr2.indexOf(item) === index) {
                newArr2.push(item);
            }
        })
        console.log(newArr2);

        /* 
            方法三扩展：改变为fiter方法
        */
        var arr3 = [1, 2, 3, 2, 1, 3, 4, 2, 1, 4, 5];
        var newArr3 = arr2.filter(function (item, index, array) {
            return arr3.indexOf(item) === index;
        })
        console.log(newArr3);
    </script>
</body>

</html>