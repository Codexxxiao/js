<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>字符串作业</title>
</head>

<body>
    <script>
        /*
             3.给定一个字符串如：“abaasdffggghhjjkkgfddsssss3444343”问题如下：
                - 字符串的长度
                - 取出指定位置的字符，如：0,3,5,9等
                - 查找指定字符是否在以上字符串中存在，如：i，c ，b等
                - 替换指定的字符，如：g替换为22,ss替换为b等操作方法
                - 截取指定开始位置到结束位置的字符串，如：取得1-5的字符串
                - 找出以上字符串中出现次数最多的字符和出现的次数
                - 在字符串的开头和末尾添加一个@符号
        */
        /* var str = 'abaasdffggghhjjkkgfddsssss3444343';

        //字符串的长度
        console.log(str.length); //33

        // 取出指定位置的字符，如：0,3,5,9等
        console.log(str.charAt(0)); //a
        console.log(str.charAt(3)); //a
        console.log(str.charAt(5)); //d
        console.log(str.charAt(9)); //g

        //查找指定字符是否在以上字符串中存在，如：i，c ，b等
        console.log(str.indexOf('i')); //-1
        console.log(str.indexOf('c')); //-1
        console.log(str.indexOf('b')); //1

        //替换指定的字符，如：g替换为22,ss替换为b等操作方法
        console.log(str.replace('g', '22'));
        console.log(str.replace('ss', 'b'));
        console.log(str.replace(/g/g, '22'));
        console.log(str.replace(/ss/g, 'b'));

        //截取指定开始位置到结束位置的字符串，如：取得1-5的字符串
        console.log(str.substr(1, 5)); //baasd
        console.log(str.substring(1, 6)); //baasd
        console.log(str.slice(1, 6)); //baasd

        //找出以上字符串中出现次数最多的字符和出现的次数
        var obj = {};
        var max = 0;
        var maxChar = null;
        // 将字符串转为数组
        var newStr = str.split('');
        newStr.forEach(function (item, index, array) {
            //obj[item]判断对象中是否存在item属性，如果存在则加一，如果不存在则添加这个属性
            obj[item] ? obj[item]++ : obj[item] = 1;
        });
        console.log(obj);
        // 遍历对象，查找出现次数最多的的字符和次数
        for (var key in obj) {
            if (obj[key] > max) {
                max = obj[key];
                maxChar = key;
            }
        }
        console.log(maxChar); //s
        console.log(max); //6 */

        //在字符串的开头和末尾添加一个@符号
        /* var arr = str.split();
        arr.push('@');
        arr.unshift('@');
        var newStr = arr.join('');
        console.log(newStr) */

        /* 
            1.已知一个url地址字符串
            http://www.baidu.com?username=xiaowang&password=12345&age=18&sex=女&score=90

            //得到一个查询字符串的值，以对象表示
            // {username:"xiaowang",password:12345,age:18,sex:"女",score:90}
        */

        /* function toObject(url) {
            var obj = {};
            // 裁剪? 好后面的字符串
            // username=xiaowang&password=12345&age=18&sex=女&score=90
            var sUrl = url.slice(url.indexOf('?') + 1);
            //使用split把字符串按&分割为数组
            var sArr = sUrl.split('&');
            // 判断sArr数组长度是否大于0
            while (sArr.length > 0) {
                // 每次从头部弹出一个key = value的值
                var keyValue = sArr.shift();
                // 把弹出的key = value 按=分割为数组
                var rKeyValue = keyValue.split('=');
                // 把第一个值作为数组的属性，第二个值作为属性的值
                obj[rKeyValue[0]] = rKeyValue[1];
            }
            return obj;
        }
        var url = 'http://www.baidu.com?username=xiaowang&password=12345&age=18&sex=女&score=90';
        var re = toObject(url);
        console.log(re); */

        /* 
            2.已知用户输入的内容组成的对象 {username:"xiaowang",password:12345,age:18,sex:"女",score:90}
            已知一个url地址：http://www.baidu.com
            请把对象以查询字符串的形式拼接在url地址上得到如下结果：
            http://www.baidu.com?username=xiaowang&password=12345&age=18&sex=女&score=90
        */
        /* var obj = {
            username: "xiaowang",
            password: 12345,
            age: 18,
            sex: "女",
            score: 90
        };

        function toUrl(obj) {
            var url = ''
            var arr = [];
            var newArr = [];
            //遍历对象
            for (var key in obj) {
                // 将对象属性和属性的值放在临时数组的第一个和第二个
                arr[0] = key;
                arr[1] = obj[key];
                // 使用join拼接成字符串，并把字符串依次push进一个新的数组
                newArr.push(arr.join('='));
            }
            // 使用join把这个新数组转换为字符串，并用指定符号连接起来
            url = 'http://www.xxxxx.xxx?' + newArr.join('&');
            return url;
        }
        var url = toUrl(obj);
        console.log(url); */


        var str = 'abaasdffggghhjjkkgfddsssss3444343';
        var arr = str.split('');;
        var newArr = [];
        arr.forEach(function (item, index) {
            if (arr.indexOf(item) === index) {
                newArr.push(1);
            } else {
                var re = arr.lastIndexOf(item, index - 1);
                var re1 = newArr[re];
                newArr.push(re1 + 1);
            }
        });

        console.log(newArr);
    </script>
</body>

</html>