<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>pc作业</title>
    <link rel="stylesheet" href="./css/1.header.css">
</head>

<body>
    <div id="header">
        <div id="header-outer">
            <div id="header-top">
                <div class="left">
                    <p>尚品汇欢迎您</p>
                    <p>
                        <span>&nbsp;&nbsp;请</span>
                        <a href="###">登录</a>
                        <a href="###">免费注册</a>
                    </p>
                </div>
                <ul class="right">
                    <li><a href="">我的订单</a></li>
                    <li><a href="">我的购物车</a></li>
                    <li><a href="">我的尚品汇</a></li>
                    <li><a href="">尚品汇会员</a></li>
                    <li><a href="">企业采购</a></li>
                    <li><a href="">关注尚品汇</a></li>
                    <li><a href="">合作招聘</a></li>
                    <li><a href="">商家后台</a></li>
                </ul>
            </div>
        </div>
        <div id="header-bottom">
            <div class="left">
                <img src="./images/Logo.png" alt="">
            </div>
            <div class="right">
                <input type="text">
                <button>搜索</button>
            </div>
        </div>

    </div>

    <div id='allnav-outer'>
        <div id="allnav">
            <h2>所有商品分类</h2>
            <ul>
                <li><a href="">服装城</a></li>
                <li><a href="">美妆馆</a></li>
                <li><a href="">尚品汇超市</a></li>
                <li><a href="">全球购</a></li>
                <li><a href="">闪购</a></li>
                <li><a href="">团购</a></li>
                <li><a href="">有趣</a></li>
                <li><a href="">秒杀</a></li>
            </ul>
        </div>
    </div>

    <div id="con-outer">
        <section id="con">
            <p>
                <a href="">手机、数码、通讯手机</a>
                <span>/</span>
                <a href="">Apple苹果</a>
                <span>/</span>
                <a href="">iphone 6S系列</a>
            </p>
            <div id="maincon">

                <div class="left">

                    <div id="outer-img">
                        <div class="small">
                            <img src="./images/b1.png" alt="">
                            <div class="mask"></div>
                        </div>
                        <div class="big">
                            <img src="./images/b1.png" alt="">
                        </div>
                    </div>

                    <div class="outer-nav">
                        <button class="left">&lt;</button>
                        <div class="center-img">
                            <ul class="list-img">

                            </ul>
                        </div>
                        <button class="right">&gt;</button>
                    </div>
                </div>

                <div class="right">
                    <div class="con-top">
                        <!--  <h3>Apple iPhone 6s（A1700）64G玫瑰金色 移动通信电信4G手机</h3>
                        <p>推荐选择下方[移动优惠购],手机套餐齐搞定,不用换号,每月还有花费返</p>
                        <div>
                            <p>
                                <span>价　　格</span>
                                <span>￥<strong>5299</strong>元</span>
                            </p>
                            <p>
                                <span>促　　销</span>
                                <span><em>加购价</em>满999.00另加20.00元，或满1999.00另加30.00元，或满2999.00另加40.00元，即可在购物车换购热销商品</span>
                            </p>
                            <p>
                                <span>支　　持</span>
                                <span>以旧换新，闲置手机回收 4G套餐超值抢 礼品购</span>
                            </p>
                            <p>
                                <span>配 送 至</span>
                                <span>广东省 深圳市 宝安区</span>
                            </p>
                        </div> -->
                    </div>
                    <div class="choose-mark">
                        <!-- <mark>黑色 <a href="">X</a></mark>
                        <mark>黑色 <a href="">X</a></mark>
                        <mark>黑色 <a href="">X</a></mark> -->
                    </div>
                    <div class="con-bottom">
                        <div class="con-choose">
                            <!-- <dl>
                                <dt>选择颜色</dt>
                                <dd>金色</dd>
                                <dd>银色</dd>
                                <dd>黄色</dd>
                            </dl>
                            <dl>
                                <dt>内存容量</dt>
                                <dd>16G</dd>
                                <dd>32G</dd>
                                <dd>64G</dd>
                                <dd>128G</dd>
                            </dl>
                            <dl>
                                <dt>选择版本</dt>
                                <dd>公开版</dd>
                                <dd>移动版</dd>
                            </dl>
                            <dl>
                                <dt>选择优惠</dt>
                                <dd>官方标配</dd>
                                <dd>电信优惠版</dd>
                                <dd>移动优惠版</dd>
                            </dl> -->
                        </div>

                        <div class="num">
                            <input type="text" value="1" readonly>
                            <button class="plus">+</button>
                            <button class="mins">-</button>
                            <div class="shoppingcar">加入购入车</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div id="detail">
        <div id="aside">
            <ul class="con1">
                <li class="active">相关分类</li>
                <li>推荐品牌</li>
            </ul>

            <div class="tab-con active">
                <ul class="con2">
                    <li><a href="">手机</a></li>
                    <li><a href="">手机壳</a></li>
                    <li><a href="">内存卡</a></li>
                    <li><a href="">Ipone配件</a></li>
                    <li><a href="">贴膜</a></li>
                    <li><a href="">手机耳机</a></li>
                    <li><a href="">移动电源</a></li>
                    <li><a href="">平板电脑</a></li>
                </ul>

                <ul class="con3">
                    <li>
                        <div><img src="./images/part01.png" alt=""></div>
                        <p>Apple苹果iPhone 6s (A1699)</p>
                        <p>¥6088.00</p>
                        <div>
                            <a href="">加入购物车</a>
                        </div>
                    </li>
                </ul>
                <ul class="con3">
                    <li>
                        <div><img src="./images/part01.png" alt=""></div>
                        <p>Apple苹果iPhone 6s (A1699)</p>
                        <p>¥6088.00</p>
                        <div>
                            <a href="">加入购物车</a>
                        </div>
                    </li>
                </ul>
                <ul class="con3">
                    <li>
                        <div><img src="./images/part01.png" alt=""></div>
                        <p>Apple苹果iPhone 6s (A1699)</p>
                        <p>¥6088.00</p>
                        <div>
                            <a href="">加入购物车</a>
                        </div>
                    </li>
                </ul>
                <ul class="con3">
                    <li>
                        <div><img src="./images/part01.png" alt=""></div>
                        <p>Apple苹果iPhone 6s (A1699)</p>
                        <p>¥6088.00</p>
                        <div>
                            <a href="">加入购物车</a>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="tab-con">
                推荐品牌
            </div>
        </div>

        <div class="inner">
            <div class="choose">
                <h3>选择搭配</h3>
                <div>
                    <img src="./images/itemlike06.png" alt="">
                    <p>¥5299</p>
                </div>
                <span>+</span>
                <ul>
                    <li>
                        <img src="./images/dp01.png" alt="">
                        <p>Feless费勒斯VR</p>
                        <label><input type="checkbox">39</label>
                    </li>
                    <li>
                        <img src="./images/dp01.png" alt="">
                        <p>Feless费勒斯VR</p>
                        <label><input type="checkbox">39</label>
                    </li>
                    <li>
                        <img src="./images/dp01.png" alt="">
                        <p>Feless费勒斯VR</p>
                        <label><input type="checkbox">39</label>
                    </li>
                    <li>
                        <img src="./images/dp01.png" alt="">
                        <p>Feless费勒斯VR</p>
                        <label><input type="checkbox">39</label>
                    </li>
                </ul>
                <div>
                    <p>已选购0件商品</p>
                    <p>套餐价</p>
                    <p>¥5299</p>
                    <button>加入购物车</button>
                </div>


            </div>
            <div class="goods">
                <ul>
                    <li><a class="active">规格与包装</a></li>
                    <li><a>售后保障</a></li>
                    <li><a>商品评价</a></li>
                    <li><a>手机社区</a></li>
                    <li><a>在线教育</a></li>
                </ul>
                <div class="goods-message active">
                    <ul>
                        <li>分辨率：1920*1080(FHD)</li>
                        <li>后置摄像头：1200万像素</li>
                        <li>前置摄像头：500万像素</li>
                        <li>核 数：其他</li>
                        <li>频 率：以官网信息为准</li>
                        <li>品牌： Apple</li>
                        <li>商品名称：APPLEiPhone 6s Plus</li>
                        <li>商品编号：1861098</li>
                        <li>商品产地：中国大陆</li>
                        <li>商品毛重：0.51kg</li>
                        <li>热点：指纹识别，Apple Pay，金属机身，拍照神器</li>
                        <li>系统：苹果（IOS）</li>
                        <li>像素：1000-1600万品毛重：0.51kg</li>
                        <li>机身内存：64GB</li>
                    </ul>
                    <div>
                        <img src="./images/intro01.png" alt="">
                        <img src="./images/intro02.png" alt="">
                        <img src="./images/intro03.png" alt="">
                    </div>
                </div>
                <div class="goods-message">售后保障</div>
                <div class="goods-message">商品评价</div>
                <div class="goods-message">手机社区</div>
                <div class="goods-message">在线教育</div>
            </div>
        </div>


    </div>

    <div id="navi-aside">
        <div class='navi-con'></div>
        <div class="allNavi"></div>
        <ul class="navList">
            <li>
                <i></i>
                <p>商品会员</p>
            </li>
            <li>
                <i></i>
                <p>购物车</p>
            </li>
            <li>
                <i></i>
                <p>我的关注</p>
            </li>
            <li>
                <i></i>
                <p>我的足迹</p>
            </li>
            <li>
                <i></i>
                <p>我的消息</p>
            </li>
            <li>
                <i></i>
                <p>咨询静哥</p>
            </li>
        </ul>
        <div class="back"></div>
    </div>

    <script src="./js/data.js"></script>
    <script>
        // 监听页面节点是否加载完成 
        window.addEventListener('DOMContentLoaded', function () {
            // 1.放大器
            amplifier();

            function amplifier() {
                // 获取元素
                var oSmall = document.querySelector('#con #maincon .left #outer-img .small');
                var oMark = document.querySelector('#con #maincon .left #outer-img .small .mask');
                var oBig = document.querySelector('#con #maincon .left #outer-img .big');
                var oSmallImg = document.querySelector('#con #maincon .left #outer-img .small img');
                var oBigImg = document.querySelector('#con #maincon .left #outer-img .big img');
                // 绑定鼠标移动事件
                oSmall.onmousemove = function (e) {
                    // 使隐藏的大图和蒙板显示
                    oMark.style.display = 'block';
                    oBig.style.display = 'block';

                    /* 
                        蒙板位置思路
                            蒙板位置 = 鼠标相对视口位置 - 小图相对视口的位置 - 蒙板的一半
                    */
                    var markLocation = {
                        left: e.clientX - oSmallImg.getBoundingClientRect().left - oMark.offsetWidth /
                            2,
                        top: e.clientY - oSmallImg.getBoundingClientRect().top - oMark.offsetHeight / 2
                    }


                    // 设置临界值
                    markLocation.left = markLocation.left <= 0 ? 0 : markLocation.left;
                    markLocation.top = markLocation.top <= 0 ? 0 : markLocation.top;

                    markLocation.left = markLocation.left >= oSmallImg.clientWidth - oMark
                        .offsetWidth ? oSmallImg.clientWidth - oMark.offsetWidth : markLocation.left;
                    markLocation.top = markLocation.top >= oSmallImg.clientHeight - oMark
                        .clientHeight ? oSmallImg.clientHeight - oMark.clientHeight : markLocation
                        .top;


                    /* 
                        大图走的位置思路：
                            蒙板走的距离 /  蒙板可以走的距离 = 大图走的距离  /  大图可以走的距离

                            大图走的距离 = 蒙板走的距离*(大图可以走的距离/蒙板可以走的距离)
                    */

                    // 获取大图可以走的距离
                    var bigImgMove = oBigImg.offsetWidth - oBig.clientWidth;
                    // 获取蒙板可以走的距离
                    var markMove = oSmallImg.clientWidth - oMark.offsetWidth;
                    // 计算比率
                    var scale = bigImgMove / markMove;

                    // 设置蒙板位置
                    oMark.style.left = markLocation.left + 'px';
                    oMark.style.top = markLocation.top + 'px';

                    // 设置大图位置
                    oBigImg.style.left = -markLocation.left * scale + 'px';
                    oBigImg.style.top = -markLocation.top * scale + 'px';

                }

                oSmall.onmouseleave = function () {
                    oMark.style.display = 'none';
                    oBig.style.display = 'none';
                }
            }

            //2.动态获得缩略图
            thumbnailData();

            function thumbnailData() {
                var oList = document.querySelector('#con #maincon .left .outer-nav .center-img .list-img');
                // 创建一个文档片段节点
                var oFrag = document.createDocumentFragment();
                // 获得缩略图数组
                var data = goodData.imgsrc;
                // 遍历输入图片
                data.forEach(function (item, index) {
                    // 创建新的li节点
                    var newLi = document.createElement('li');
                    // 创建图片
                    var newImg = new Image();
                    // 设置图片的src属性
                    newImg.src = item.s;
                    // 把img标签插入li标签中
                    newLi.appendChild(newImg);
                    // 把li标签插入文档片段节点
                    oFrag.appendChild(newLi);
                })

                // 把文档片段节点插入页面
                oList.appendChild(oFrag);

            }

            //3.缩略图
            thumbnail();

            function thumbnail() {
                var oLeft = document.querySelector('#con #maincon .left .outer-nav .left');
                var oRight = document.querySelector('#con #maincon .left .outer-nav .right');
                var oLis = document.querySelectorAll('#con #maincon .left .outer-nav .center-img .list-img li');
                var oList = document.querySelector('#con #maincon .left .outer-nav .center-img .list-img');

                // 定义一个起始位置记录每次移动的距离
                var moveLocation = 0;
                // 元素可以走的距离
                var canMove = (oLis.length - 5) * oLis[0].offsetWidth;
                // 获取每次走的距离  2张图
                var everyStep = oLis[0].offsetWidth * 2;


                // 给右点绑定点击事件
                oRight.onclick = function () {
                    // 判断临界值  如果可以移动的距离小于everyStep，直接赋值为canMove

                    moveLocation = canMove - moveLocation < everyStep ? canMove : moveLocation + everyStep;
                    // 每次点击移动everyStep的距离
                    oList.style.transform = 'translateX(-' + moveLocation + 'px)';

                }

                // 给右点绑定点击事件
                oLeft.onclick = function () {
                    // 判断临界值  如果已经移动的距离小于everyStep，直接赋值0
                    moveLocation = moveLocation < everyStep ? 0 : moveLocation - everyStep;

                    // 每次点击移动everyStep的距离
                    oList.style.transform = 'translateX(-' + moveLocation + 'px)';

                }

            }

            //4.缩略图点击
            thumbnailClick();

            function thumbnailClick() {
                var oList = document.querySelector('#con #maincon .left .outer-nav .center-img .list-img');
                var oSmallImg = document.querySelector('#con #maincon .left #outer-img .small img');
                var oBigImg = document.querySelector('#con #maincon .left #outer-img .big img');
                var oImgs = document.querySelectorAll(
                    '#con #maincon .left .outer-nav .center-img .list-img li img'); //nodeList
                var data = goodData.imgsrc;

                // 在oImgs上绑定点击事件
                oImgs.forEach(function (item, index) {
                    item.onclick = function (evt) {
                        // 把大图的src换从大图的src  （大图在data中坐标等于oImgs中对应的坐标）
                        oBigImg.src = data[index].b;

                        // 把小图的src换成当前点击图的src
                        oSmallImg.src = this.src;
                    }
                })

                // 使用事件委托，把点击事件绑定在父级元素上  失败
                /*  oList.onclick = function (evt) {
                     if (evt.target.nodeName === 'IMG') {
                         console.log(evt.target.curr);
                         var index = Array.prototype.indexOf(oImgs, evt.target.nodeName);
                         console.log(index);
                         oSmallImg.src = evt.target.src;
                     }

                 } */
            }

            // 5.详细信息加载

            detailLoaded();

            function detailLoaded() {
                var oCon = document.querySelector('#con #maincon .right .con-top');
                var detail = goodData.goodsDetail;
                var str = '<h3>' + detail.title + '</h3>\
                        <p>' + detail.recommend + '</p>\
                        <div>\
                            <p>\
                                <span>价　　格</span>\
                                <span>￥<strong>' + detail.price + '</strong>元</span>\
                            </p>\
                            <p>\
                                <span>促　　销</span>\
                                <span><em>' + detail.promoteSales.type + '</em>' + detail.promoteSales.content + '</span>\
                            </p>\
                            <p>\
                                <span>支　　持</span>\
                                <span>' + detail.support + '</span>\
                            </p>\
                            <p>\
                                <span>配 送 至</span>\
                                <span>' + detail.address + '</span>\
                            </p>\
                        </div>'
                oCon.innerHTML = str;

            }

            /*   // 6.侧边栏tab切换
            asideTab();

            function asideTab() {
                var oLis = document.querySelectorAll('#aside .con1 li');
                var oLiCon = document.querySelectorAll('#aside>div');
                oLis.forEach(function (item, index) {
                    item.onclick = function () {
                        var _this = this;
                        // 遍历  如果为点击元素添加show  否则添加 hide
                        oLis.forEach(function (item, index) {
                            if (item === _this) {
                                item.classList.add('show');
                                item.classList.remove('hide');
                                oLiCon[index].style.display = 'block';

                            } else {
                                item.classList.add('hide');
                                item.classList.remove('show');
                                oLiCon[index].style.display = 'none';
                            }

                        })
                    }
                })
            }

            // 6.详细信息tab切换
            detailTab();

            function detailTab() {
                var oAnavi = document.querySelectorAll('.goods > ul li a');
                var oDiv = document.querySelectorAll('.goods .goods-message');

                // 给oLis绑定点击事件
                oAnavi.forEach(function (item, index) {

                    item.onclick = function () {
                        var that = this;
                        // 循环遍历判断点击的元素
                        oAnavi.forEach(function (item, index) {

                            if (that === item) {
                                oDiv[index].style.display = 'block';
                                item.classList.add('active');

                            } else {
                                oDiv[index].style.display = 'none';
                                item.classList.remove('active');
                            }
                        })
                    }
                })
            }
 */
            //7.动态生成商品信息
            chooseData();

            function chooseData() {
                var oChooseData = document.querySelector('#con #maincon .right .con-bottom .con-choose');
                // 获取数据
                var dataDetail = goodData.goodsDetail.crumbData;
                // 生成一个片段节点
                var oFrag = document.createDocumentFragment();

                // 遍历
                dataDetail.forEach(function (item, index) {
                    // 生成一个dl
                    var newDl = document.createElement('dl');
                    // 生成一个dt
                    var newDt = document.createElement('dt');
                    newDt.textContent = item.title;
                    // 把dt插入dl中
                    newDl.appendChild(newDt);
                    // 获取dd元素
                    var oData = item.data;
                    // 遍历生成dd
                    oData.forEach(function (item, index) {
                        var newDd = document.createElement('dd');
                        newDd.textContent = item.type;
                        // 给dd添加自定义属性price记录其价格
                        newDd.dataset.price = item.changePrice;
                        newDl.appendChild(newDd);
                    })
                    // 将整个newDl插入碎片节点
                    oFrag.appendChild(newDl);
                })

                // 将整个片段节点插入网页
                oChooseData.appendChild(oFrag);
            }

            //8.点击选择
            clickData();

            function clickData() {
                // 获取价钱元素
                var oPrice = document.querySelector(
                    '#con #maincon .right .con-top div:first-of-type p:nth-of-type(1) strong'
                );
                var oChooseData = document.querySelector('#con #maincon .right .con-bottom .con-choose');
                var oChooseMark = document.querySelector('#con #maincon .right .choose-mark');
                var dataDetail = goodData.goodsDetail.crumbData;

                // 获取所有的dl
                var oDls = oChooseData.querySelectorAll('dl');
                // 创建一个数组，储存对应的dl
                var chooseArr = new Array(oDls.length);
                chooseArr.fill(null);
                // 遍历dl
                oDls.forEach(function (item, index) {
                    // 记录对应的下标
                    var _index = index;
                    // 获取所有的dd
                    var oDds = item.querySelectorAll('dd');
                    //给所有的oDds绑定点击事件
                    oDds.forEach(function (item, index) {
                        //给所有的oDds绑定点击事件
                        item.onclick = function () {

                            // 先清除所有的样式
                            oDds.forEach(function (item, index) {
                                item.style.color = '#666';
                            })

                            // 给点击的元素添加样式
                            this.style.color = 'red';


                            // 向数组中添加对应下标的点击的dd
                            chooseArr[_index] = item;

                            // 插入之前把oChooseMark的内容清空   每次把内容清空在重新遍历数组生成内容
                            oChooseMark.textContent = '';

                            // 遍历整个数组  生成oChooseMark的内容
                            chooseArr.forEach(function (item, index) {
                                // 判断是否为空
                                if (!item) {
                                    return;
                                }

                                // 生成mark标签和a标签
                                var newMark = document.createElement('mark');
                                newMark.textContent = item.textContent;
                                var newA = document.createElement('a');
                                newA.href = '###';
                                newA.textContent = 'X';
                                // 给newA添加自定义属性，记录所在的dl
                                newA.dataset.index = index;
                                // 把a标签插入mark标签中
                                newMark.appendChild(newA);

                                // 把mark标签插入
                                oChooseMark.appendChild(newMark);
                            })

                            // 删除选择内容
                            // 点击之后获取所有的a标签
                            var oAs = document.querySelectorAll(
                                '#con #maincon .right .choose-mark a');
                            // 遍历绑定点击事件
                            oAs.forEach(function (item, index) {
                                item.onclick = function () {

                                    // 点击之后移除父元素mark
                                    this.parentNode.remove();

                                    // 使数组中当前的dl下标位置变为null
                                    chooseArr[this.dataset.index] = null;

                                    // 删除之后 默认第一个元素显示红色
                                    // 获取当前dl的第一个dd元素  通过创建标签的时候给a 标签添加自定义属性记录其所在的dl
                                    var oRemoveDds = oDls[this.dataset.index]
                                        .querySelectorAll('dd');

                                    // 遍历当前dl所有的dd
                                    oRemoveDds.forEach(function (item, index) {
                                        // 清除所有的样式
                                        item.style.color = '#666';
                                    })

                                    // 给第一个dd设置为红色
                                    oRemoveDds[0].style.color = 'red';

                                    changePrice(chooseArr);
                                }
                            })

                            changePrice(chooseArr);
                        }
                    })
                })

                function changePrice(arr) {
                    //价格修改
                    // 获取基准价钱
                    var basePrice = goodData.goodsDetail.price;
                    // 遍历chooseArr中的dd获取价钱
                    arr.forEach(function (item, index) {
                        if (!item) {
                            return;
                        }
                        basePrice += +item.dataset.price;
                    })
                    // 获取数量
                    var oIpt = document.querySelector('#con #maincon .right .con-bottom .num input');
                    oPrice.textContent = basePrice * oIpt.value;
                }
            }

            // 9.点击累加，减少
            calPrice();

            function calPrice() {
                var oIpt = document.querySelector('#con #maincon .right .con-bottom .num input');
                var oPlus = document.querySelector('#con #maincon .right .con-bottom .num .plus');
                var oMins = document.querySelector('#con #maincon .right .con-bottom .num .mins');
                var sum = 1;

                // 绑定累加事件
                oPlus.onclick = function () {
                    sum++;
                    // 获取当前价格
                    var oPrice = document.querySelector(
                        '#con #maincon .right .con-top div:first-of-type p:nth-of-type(1) strong');
                    oPrice.textContent = sum * oPrice.textContent / (sum - 1);

                    oIpt.value = sum;
                }

                // 绑定减少事件
                oMins.onclick = function () {
                    sum--;

                    // 判断临界值
                    if (sum < 1) {
                        sum = 1;
                        return;
                    }

                    // 获取当前价格
                    var oPrice = document.querySelector(
                        '#con #maincon .right .con-top div:first-of-type p:nth-of-type(1) strong');
                    oPrice.textContent = sum * oPrice.textContent / (sum + 1);

                    oIpt.value = sum;
                }
            }

            // 10.侧边栏切换  对象
            // 对象书写tab切换  注意回调函数，构造函数 ， 构造函数的原型对象上声明方法的this指向
            function Tab(oTitles, oCons) {
                this.oTitles = oTitles;
                this.oCons = oCons;
                var _this = this;
                // 遍历给所有的oTitles绑定点击事件
                this.oTitles.forEach(function (item, index) {
                    // 给每个item添加它的下标属性
                    item.index = index;
                    item.onclick = function () {

                        _this.click(this);

                    }
                })
            }

            Tab.prototype.click = function (o) {
                var _this = this;
                // 遍历清除所有的样式
                this.oTitles.forEach(function (item, index) {
                    item.classList.remove('active');
                    _this.oCons[index].style.display = 'none';
                })

                o.classList.add('active');
                this.oCons[o.index].style.display = 'block';
            }

            // 侧边栏Tab切换
            function asideTab() {
                var oLis = document.querySelectorAll('#aside .con1 li');
                var oCons = document.querySelectorAll('#aside .tab-con');

                new Tab(oLis, oCons);
            }
            asideTab();

            // 商品细节Tab切换
            function detailTab() {
                var oAs = document.querySelectorAll('.goods > ul li a');
                var oCons = document.querySelectorAll('.goods .goods-message');

                new Tab(oAs, oCons);
            }
            detailTab();

            // 11.侧边栏点击
            asideClick();

            function asideClick() {
                var oAllNavi = document.querySelector('#navi-aside .allNavi')
                var oConNavi = document.querySelector('#navi-aside');

                // 使用开关思想
                var flag = false;
                // 绑定点击事件
                oAllNavi.onclick = function () {
                    if (flag) {
                        oConNavi.style.right = '-292px';
                    } else {
                        oConNavi.style.right = '0';
                    }

                    flag = !flag;
                }
            }
        })
    </script>
</body>

</html>